(this["webpackJsonpburger-app"]=this["webpackJsonpburger-app"]||[]).push([[9],{113:function(e,t,r){e.exports={MyOrders:"MyOrders_MyOrders__Rhr_i",NoOrder:"MyOrders_NoOrder__3lGSi",Title:"MyOrders_Title__2KTbk"}},114:function(e,t,r){e.exports={Order:"Orders_Order__gb_97",Burger:"Orders_Burger__3g559",Content:"Orders_Content__3qLAc",Count:"Orders_Count__rjyxm",Delete:"Orders_Delete__35ekZ",Confirm:"Orders_Confirm__2N4d9"}},120:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r(14),o=r(16),c=r(15),u=r(0),i=r.n(u),s=r(34),l=r(64),d=r(113),p=r.n(d),f=r(114),m=r.n(f),O=r(72),h=r(74),b=r(22),y=r(36),_=r(82),v=r.n(_),g=r(11),E=function(e){return function(t){e&&(t({type:g.e}),v.a.get("https://my-burger-8b19a.firebaseio.com/orders.json").then((function(r){var n=r.data,a=[];for(var o in n)a.push({id:o,details:n[o].details,ingredients:n[o].ingredients,totalPrice:n[o].totalPrice,time:n[o].time,userId:n[o].userId});var c,u=a.filter((function(t){return t.userId===e.uid}));t((c=u,{type:g.f,payload:c}))})).catch((function(e){return t(function(e){return{type:g.d,payload:e}}(e))})))}},j=function(e){return function(t){t({type:g.b}),v.a.delete("https://my-burger-8b19a.firebaseio.com/orders/".concat(e,".json")).then((function(){return t(function(e){return{type:g.c,payload:e}}(e))})).catch((function(e){return t(function(e){return{type:g.a,payload:e}}(e))}))}},k=function(e){return e.myOrders},P=Object(l.a)([k],(function(e){return e.orders})),N=Object(l.a)([k],(function(e){return e.loading})),w=Object(l.a)([k],(function(e){return e.error})),C=Object(l.a)([P],(function(e){return e.length})),B=function(e){Object(o.a)(r,e);var t=Object(c.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={showPopup:!1},e.togglePopup=function(){e.setState((function(e){return{showPopup:!e.showPopup}}))},e}return Object(a.a)(r,[{key:"render",value:function(){var e=this,t=this.state.showPopup,r=this.props,n=r.id,a=r.time,o=r.totalPrice,c=r.ingredients,u=r.deleteOrder,s=[];for(var l in c)s.push({name:l,count:c[l]});return i.a.createElement("div",null,i.a.createElement(h.a,{show:t,click:function(){return e.togglePopup()}}),i.a.createElement(O.a,{show:t},i.a.createElement("p",{className:m.a.Confirm},"Are you sure to delete?"),i.a.createElement("div",null,i.a.createElement(b.a,{primary:!0,click:function(){return u(n)}},"yes"),i.a.createElement(b.a,{click:function(){return e.togglePopup()}},"cancel"))),i.a.createElement("div",{key:n,className:m.a.Order},i.a.createElement("div",{className:m.a.Burger},i.a.createElement(y.a,null)),i.a.createElement("div",{className:m.a.Content},i.a.createElement("p",null,"Ordered on: ",new Date(a).toDateString()),i.a.createElement("h4",null,"Price: $ ",o),s.map((function(e){var t=e.name,r=e.count;return i.a.createElement("span",{key:t,className:m.a.Count},t," - ",r)}))),i.a.createElement("div",{className:m.a.Delete,onClick:function(){return e.togglePopup()}},"\u2715")))}}]),r}(u.Component),x=Object(l.b)({loading:N}),M=Object(s.b)(x,(function(e){return{deleteOrder:function(t){return e(j(t))}}}))(B),D=function(e){Object(o.a)(r,e);var t=Object(c.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentUser,r=e.fetchOrders;t&&r(t)}},{key:"render",value:function(){var e=this.props,t=e.orders,r=e.quantity;return i.a.createElement("div",{className:p.a.MyOrders},i.a.createElement("h3",{className:p.a.Title},"Previous Orders"),i.a.createElement("p",{className:p.a.Title},"Total number of orders: ",r),t.length<=0?i.a.createElement("p",{className:p.a.NoOrder},"no orders"):t.map((function(e){return i.a.createElement(M,Object.assign({key:e.id},e))})))}}]),r}(u.PureComponent),T=Object(l.b)({orders:P,loading:N,error:w,quantity:C});t.default=Object(s.b)(T,(function(e){return{fetchOrders:function(t){return e(E(t))}}}))(D)},72:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(73),c=r.n(o);t.a=function(e){var t=e.show,r=e.children;return t&&a.a.createElement("div",{className:c.a.PopupBox},r)}},73:function(e,t,r){e.exports={PopupBox:"PopupBox_PopupBox__1yYVs"}},74:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(75),c=r.n(o);t.a=function(e){var t=e.show,r=e.click;return t&&a.a.createElement("div",{className:c.a.Backdrop,onClick:r})}},75:function(e,t,r){e.exports={Backdrop:"Backdrop_Backdrop__Wohmw"}}}]);
//# sourceMappingURL=9.0843f058.chunk.js.map